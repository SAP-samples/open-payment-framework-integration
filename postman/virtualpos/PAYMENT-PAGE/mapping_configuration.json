{
  "info": {
    "_postman_id": "52fb89f1-2a9e-4c34-af17-cee155501c75",
    "name": "VirtualPOS_Config_Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Variable",
      "item": [
        {
          "name": "Variable_apiEndpoint",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":1883,\"sensitive\":false,\"value\":\"{{apiEndpoint}}\",\"key\":\"apiEndpoint\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/variables",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "variables"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Variable_apiVersion",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":1884,\"sensitive\":false,\"value\":\"{{apiVersion}}\",\"key\":\"apiVersion\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/variables",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "variables"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Variable_apiKey",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":1885,\"sensitive\":false,\"value\":\"{{apiKey}}\",\"key\":\"apiKey\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/variables",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "variables"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Variable_apiSecretKey",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":1886,\"sensitive\":true,\"value\":\"{{apiSecretKey}}\",\"key\":\"apiSecretKey\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/variables",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "variables"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Variable_paymentChannel",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":1914,\"sensitive\":false,\"value\":\"{{paymentChannel}}\",\"key\":\"paymentChannel\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/variables",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "variables"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Variable_paymentDescription",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":1926,\"sensitive\":false,\"value\":\"{{paymentDescription}}\",\"key\":\"paymentDescription\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/variables",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "variables"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    ,
    {
      "name": "Account",
      "item": [
        {
          "name": "Account Patch",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"supportOverCapture\":\"{{supportOverCapture}}\",\"enableOverCapture\":\"{{enableOverCapture}}\",\"capturePattern\":\"{{capturePattern}}\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    ,
    {
      "name": "AccountGroup",
      "item": [
        {
          "name": "Account Group Patch",
          "request": {
            "method": "PATCH",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"authorizationTimeoutDays\":{{authorizationTimeoutDays}}}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    ,
    {
      "name": "Authentications",
      "item": [
        {
          "name": "Hmac_outbound_signature_calculation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5981bec5-147e-47b2-9d5f-b5e37491713b",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;    \npm.test(\"Location is present\", function () {\n    pm.response.to.have.header(\"Location\");\n    var location=pm.response.headers.get(\"Location\");\n    pm.environment.set(\"authentication_inbound_hmac_outbound_signature_calculation_556\", location.substring(location.lastIndexOf(\"\/\")+1,location.length));\n});"
                  
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"charset\":\"UTF-8\",\"secretBaseEncoding\":\"NONE\",\"baseEncoding\":\"BASE64_URL\",\"method\":\"HMAC_OUTBOUND_SIGNATURE_CALCULATION\",\"secretType\":\"SCRIPT\",\"name\":\"virtualPosJWT_Get_export\",\"secret\":\"${vars.apiSecretKey}\",\"source\":\"${functions.encodeMessage('BASE64_URL', 'UTF-8', '{\\\"alg\\\":\\\"HS256\\\",\\\"typ\\\":\\\"JWT\\\"}')}.${functions.encodeMessage('BASE64_URL','UTF-8','{\\\"api_key\\\":\\\"${vars.apiKey}\\\"}')}\",\"id\":556,\"isHmacSignature\":true,\"hmacFields\":{},\"algorithm\":\"HmacSHA256\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/authentications",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "authentications"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Hmac_outbound_signature_calculation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "d197ce51-0505-4845-a4ff-d12093db1093",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;    \npm.test(\"Location is present\", function () {\n    pm.response.to.have.header(\"Location\");\n    var location=pm.response.headers.get(\"Location\");\n    pm.environment.set(\"authentication_outbound_hmac_outbound_signature_calculation_552\", location.substring(location.lastIndexOf(\"\/\")+1,location.length));\n});"
                  
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"charset\":\"UTF-8\",\"secretBaseEncoding\":\"NONE\",\"baseEncoding\":\"BASE64_URL\",\"method\":\"HMAC_OUTBOUND_SIGNATURE_CALCULATION\",\"secretType\":\"SCRIPT\",\"name\":\"virtualPosJWT_POST_export\",\"secret\":\"${vars.apiSecretKey}\",\"source\":\"${functions.encodeMessage('BASE64_URL', 'UTF-8', '{\\\"alg\\\":\\\"HS256\\\",\\\"typ\\\":\\\"JWT\\\"}')}.${functions.encodeMessage('BASE64_URL','UTF-8','{\\\"uuid\\\":\\\"${input.referenceId}\\\",\\\"api_key\\\":\\\"${vars.apiKey}\\\"}')}\",\"id\":552,\"isHmacSignature\":true,\"hmacFields\":{},\"algorithm\":\"HmacSHA256\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/authentications",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "authentications"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Hmac_outbound_signature_calculation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "3838ef16-a63a-4e4f-94aa-7cb2e9b8cf54",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;    \npm.test(\"Location is present\", function () {\n    pm.response.to.have.header(\"Location\");\n    var location=pm.response.headers.get(\"Location\");\n    pm.environment.set(\"authentication_outbound_hmac_outbound_signature_calculation_556\", location.substring(location.lastIndexOf(\"\/\")+1,location.length));\n});"
                  
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"charset\":\"UTF-8\",\"secretBaseEncoding\":\"NONE\",\"baseEncoding\":\"BASE64_URL\",\"method\":\"HMAC_OUTBOUND_SIGNATURE_CALCULATION\",\"secretType\":\"SCRIPT\",\"name\":\"virtualPosJWT_Get_export\",\"secret\":\"${vars.apiSecretKey}\",\"source\":\"${functions.encodeMessage('BASE64_URL', 'UTF-8', '{\\\"alg\\\":\\\"HS256\\\",\\\"typ\\\":\\\"JWT\\\"}')}.${functions.encodeMessage('BASE64_URL','UTF-8','{\\\"api_key\\\":\\\"${vars.apiKey}\\\"}')}\",\"id\":556,\"isHmacSignature\":true,\"hmacFields\":{},\"algorithm\":\"HmacSHA256\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/authentications",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "authentications"
                
              ]
            }
          },
          "response": []
        }
        ,
        {
          "name": "Hmac_outbound_signature_calculation",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "c4c299f5-0cf6-4ce4-a8b4-c32cb2978275",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;    \npm.test(\"Location is present\", function () {\n    pm.response.to.have.header(\"Location\");\n    var location=pm.response.headers.get(\"Location\");\n    pm.environment.set(\"authentication_outbound_hmac_outbound_signature_calculation_572\", location.substring(location.lastIndexOf(\"\/\")+1,location.length));\n});"
                  
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"charset\":\"UTF-8\",\"secretBaseEncoding\":\"NONE\",\"baseEncoding\":\"BASE64_URL\",\"method\":\"HMAC_OUTBOUND_SIGNATURE_CALCULATION\",\"secretType\":\"SCRIPT\",\"name\":\"virtualPosJWT_Get_export_export\",\"secret\":\"${vars.apiSecretKey}\",\"source\":\"${functions.encodeMessage('BASE64_URL', 'UTF-8', '{\\\"alg\\\":\\\"HS256\\\",\\\"typ\\\":\\\"JWT\\\"}')}.${functions.encodeMessage('BASE64_URL','UTF-8','{\\\"api_key\\\":\\\"${vars.apiKey}\\\"}')}\",\"id\":572,\"isHmacSignature\":true,\"hmacFields\":{},\"algorithm\":\"HmacSHA256\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/authentications",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "authentications"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    ,
    {
      "name": "Preprocessing_methods",
      "item": [
        {
          "name": "preprocessing-virtualPos Notification verification-28f6d4f0-f4b8-4275-b899-f04609e455e5",
          "event": [
            {
              "listen": "test",
              "script": {
                "id": "5281f7c8-b83e-49e3-b951-e7ab0e3ff1ce",
                "exec": [
                  "tests[\"Status code is 201\"] = responseCode.code === 201;    \npm.test(\"Location is present\", function () {\n    pm.response.to.have.header(\"Location\");\n    var location=pm.response.headers.get(\"Location\");\n    pm.environment.set(\"preprocessingMethod_virtualPos Notification verification_28f6d4f0-f4b8-4275-b899-f04609e455e5\", location.substring(location.lastIndexOf(\"\/\")+1,location.length));\n});"
                  
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"name\":\"virtualPos Notification verification\",\"contentType\":\"application\/json\",\"requestExample\":\"{\\n    \\\"uuid\\\":\\\"74596086855253f0\\\"\\n}\",\"requestMappingFields\":{\"mappings\":[{\"from\":\"#object\",\"to\":\"payload\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"uuid\",\"to\":\"uuid\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isCustom\":true,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false}]},\"preprocessors\":[{\"id\":\"83b44ba1-3e0d-4dd9-89cd-4c8f50998798\",\"preprocessorType\":\"API\",\"outboundMappings\":[{\"url\":\"https:\/\/${vars.apiEndpoint}\/${vars.apiVersion}\/payment\/${input.customFields.uuid}\",\"authenticationIds\":[\"{{authentication_outbound_hmac_outbound_signature_calculation_556}}\"],\"method\":\"GET\",\"requestContentType\":\"application\/json\",\"requestExample\":null,\"responseExample\":\"{\\n  \\\"status\\\": \\\"OK\\\",\\n  \\\"code\\\": 200,\\n  \\\"commerce\\\": {\\n    \\\"commerce_id\\\": \\\"76123456-7\\\",\\n    \\\"name\\\": \\\"Comercial Andes\\\"\\n  },\\n  \\\"payment\\\": {\\n    \\\"client\\\": {\\n      \\\"email\\\": \\\"user@example.com\\\",\\n      \\\"first_name\\\": \\\"John\\\",\\n      \\\"last_name\\\": \\\"Doe\\\",\\n      \\\"social_id\\\": \\\"12345678-9\\\",\\n      \\\"phone\\\": \\\"56961934502\\\"\\n    },\\n    \\\"order\\\": {\\n      \\\"uuid\\\": \\\"083613a748190d26\\\",\\n      \\\"status\\\": \\\"pagado\\\",\\n      \\\"created_at\\\": \\\"2021-09-08 11:20:31\\\",\\n      \\\"card_number\\\": 1234,\\n      \\\"authorized_at\\\": \\\"2021-09-08 11:21:31\\\",\\n      \\\"auth_code\\\": \\\"1234\\\",\\n      \\\"installment_amount\\\": 0,\\n      \\\"installment_number\\\": 0,\\n      \\\"payment_type_code\\\": \\\"VN\\\",\\n      \\\"amount\\\": 9990,\\n      \\\"merchant_internal_code\\\": \\\"OC-1234\\\",\\n      \\\"merchant_internal_channel\\\": \\\"portal_pagos\\\",\\n      \\\"deposits\\\": [\\n        {\\n          \\\"description\\\": \\\"1\/1\\\",\\n          \\\"installment\\\": 9900,\\n          \\\"processing_flat_fee\\\": 0,\\n          \\\"processing_fee\\\": 117,\\n          \\\"payout_amount\\\": 9783,\\n          \\\"payout_date\\\": \\\"2021-09-21\\\"\\n        }\\n      ]\\n    }\\n  }\\n}\",\"requestMappingFields\":{\"mappings\":[]},\"responseHeaders\":null,\"responseMappingFields\":{\"mappings\":[{\"from\":\"#object\",\"to\":\"payload\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false}]},\"responseContentType\":\"application\/json\",\"headers\":{\"Authorization\":\"${vars.apiKey}\",\"Signature\":\"${auth.hmac.signatureSource}.${auth.hmac.signature}\"},\"formArrayIndicator\":null}],\"algorithm\":null,\"baseEncoding\":null,\"contentBaseEncoding\":null,\"charset\":null,\"secret\":null,\"secretType\":null,\"blockMode\":null,\"padding\":null,\"initializationVector\":null,\"authenticationTag\":null,\"securityProvider\":null}],\"preprocessorIds\":[\"83b44ba1-3e0d-4dd9-89cd-4c8f50998798\"],\"id\":\"28f6d4f0-f4b8-4275-b899-f04609e455e5\"}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/preprocessing-methods",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "preprocessing-methods"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    ,
    {
      "name": "Authorization",
      "item": [
        {
          "name": "Authorization",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":2037,\"pattern\":\"FULL_PAGE\",\"requestType\":\"AUTHORIZATION\",\"destination\":{\"url\":\"${input.redirectUrl}\",\"method\":\"GET\",\"contentType\":null,\"body\":null,\"authenticationIds\":[\"{{authentication_inbound_hmac_outbound_signature_calculation_556}}\"],\"form\":[]},\"enabled\":null,\"configurationId\":null,\"googlePayGateway\":null,\"remoteApiOutboundMappings\":[{\"url\":\"https:\/\/${vars.apiEndpoint}\/${vars.apiVersion}\/payment\/\",\"authenticationIds\":[\"{{authentication_outbound_hmac_outbound_signature_calculation_552}}\"],\"method\":\"POST\",\"requestContentType\":\"application\/json\",\"requestExample\":\"{\\n  \\\"amount\\\": 0,\\n  \\\"email\\\": \\\"string\\\",\\n  \\\"social_id\\\": \\\"string\\\",\\n  \\\"first_name\\\": \\\"string\\\",\\n  \\\"last_name\\\": \\\"string\\\",\\n  \\\"phone\\\": \\\"string\\\",\\n  \\\"description\\\": \\\"string\\\",\\n  \\\"merchant_internal_code\\\": \\\"string\\\",\\n  \\\"merchant_internal_channel\\\": \\\"string\\\",\\n  \\\"return_url\\\": \\\"string\\\",\\n  \\\"callback_url\\\": \\\"string\\\"\\n}\",\"responseExample\":\"{\\n    \\\"status\\\": \\\"OK\\\",\\n    \\\"code\\\": 200,\\n    \\\"commerce\\\": {\\n        \\\"commerce_id\\\": \\\"76255466-6\\\",\\n        \\\"name\\\": \\\"SANDBOX - SAP\\\"\\n    },\\n    \\\"payment\\\": {\\n        \\\"client\\\": {\\n            \\\"email\\\": \\\"user@example.com\\\",\\n            \\\"first_name\\\": \\\"John\\\",\\n            \\\"last_name\\\": \\\"Doe\\\",\\n            \\\"social_id\\\": \\\"12345678-9\\\",\\n            \\\"phone\\\": \\\"912345678\\\"\\n        },\\n        \\\"order\\\": {\\n            \\\"uuid\\\": \\\"74592146846527ee\\\",\\n            \\\"status\\\": \\\"pendiente\\\",\\n            \\\"created_at\\\": \\\"2025-06-08 23:18:22\\\",\\n            \\\"card_number\\\": \\\"\\\",\\n            \\\"authorized_at\\\": \\\"\\\",\\n            \\\"auth_code\\\": \\\"\\\",\\n            \\\"installment_amount\\\": \\\"\\\",\\n            \\\"installment_number\\\": \\\"\\\",\\n            \\\"payment_type_code\\\": \\\"\\\",\\n            \\\"amount\\\": 9990,\\n            \\\"merchant_internal_code\\\": \\\"OC_TEST_1234\\\",\\n            \\\"merchant_internal_channel\\\": \\\"portal_pagos\\\",\\n            \\\"deposits\\\": [],\\n            \\\"bank\\\": {}\\n        }\\n    },\\n    \\\"url_redirect\\\": \\\"https:\/\/pay.virtualpos-sandbox.com\/preview\/74592146846527ee\\\"\\n}\",\"requestMappingFields\":{\"mappings\":[{\"from\":\"$.callback_url\",\"to\":\"${functions.encodeMessage('base64','UTF-8',input.notificationURL)}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":true},{\"from\":\"$.amount\",\"to\":\"${input.amountInExponent}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.social_id\",\"to\":\"${input.additionalData.social_id}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":true},{\"from\":\"$.phone\",\"to\":\"${input.billingAddress.phoneNumber}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.merchant_internal_code\",\"to\":\"${input.orderId}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.last_name\",\"to\":\"${input.billingAddress.lastName}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.description\",\"to\":\"${vars.paymentDescription}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.return_url\",\"to\":\"${functions.encodeMessage('base64','UTF-8',input.resultURL)}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":true},{\"from\":\"$.first_name\",\"to\":\"${input.billingAddress.firstName}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.email\",\"to\":\"${input.emailAddress}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"$.merchant_internal_channel\",\"to\":\"${vars.paymentChannel}\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":null,\"fixed\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false}]},\"responseHeaders\":null,\"responseMappingFields\":{\"mappings\":[{\"from\":\"code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.social_id\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.phone\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.last_name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.first_name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.email\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.card_number\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.installment_amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.created_at\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.payment_type_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.authorized_at\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.auth_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.installment_number\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.merchant_internal_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.merchant_internal_channel\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.status\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"commerce.commerce_id\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"commerce.name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"status\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.client.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.['deposits.#object']\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.bank.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"commerce.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.uuid\",\"to\":\"pspReference\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"url_redirect\",\"to\":\"redirectUrl\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false}]},\"responseContentType\":\"application\/json\",\"headers\":{\"Authorization\":\"${vars.apiKey}\",\"Signature\":\"${auth.hmac.signatureSource}.${auth.hmac.signature}\"},\"formArrayIndicator\":null}],\"verify\":{\"localVerifyMapping\":null,\"localVerifyAuthenticationId\":null,\"remoteVerifyAuthorizationMappings\":[{\"url\":\"https:\/\/${vars.apiEndpoint}\/${vars.apiVersion}\/payment\/${input.pspReference}\",\"authenticationIds\":[\"{{authentication_outbound_hmac_outbound_signature_calculation_572}}\"],\"method\":\"GET\",\"requestContentType\":\"application\/json\",\"requestExample\":null,\"responseExample\":\"{\\n  \\\"status\\\": \\\"OK\\\",\\n  \\\"code\\\": 200,\\n  \\\"commerce\\\": {\\n    \\\"commerce_id\\\": \\\"76123456-7\\\",\\n    \\\"name\\\": \\\"Comercial Andes\\\"\\n  },\\n  \\\"payment\\\": {\\n    \\\"client\\\": {\\n      \\\"email\\\": \\\"user@example.com\\\",\\n      \\\"first_name\\\": \\\"John\\\",\\n      \\\"last_name\\\": \\\"Doe\\\",\\n      \\\"social_id\\\": \\\"12345678-9\\\",\\n      \\\"phone\\\": \\\"56961934502\\\"\\n    },\\n    \\\"order\\\": {\\n      \\\"uuid\\\": \\\"083613a748190d26\\\",\\n      \\\"status\\\": \\\"pagado\\\",\\n      \\\"created_at\\\": \\\"2021-09-08 11:20:31\\\",\\n      \\\"card_number\\\": 1234,\\n      \\\"authorized_at\\\": \\\"2021-09-08 11:21:31\\\",\\n      \\\"auth_code\\\": \\\"1234\\\",\\n      \\\"installment_amount\\\": 0,\\n      \\\"installment_number\\\": 0,\\n      \\\"payment_type_code\\\": \\\"VN\\\",\\n      \\\"amount\\\": 9990,\\n      \\\"merchant_internal_code\\\": \\\"OC-1234\\\",\\n      \\\"merchant_internal_channel\\\": \\\"portal_pagos\\\",\\n      \\\"deposits\\\": [\\n        {\\n          \\\"description\\\": \\\"1\/1\\\",\\n          \\\"installment\\\": 9900,\\n          \\\"processing_flat_fee\\\": 0,\\n          \\\"processing_fee\\\": 117,\\n          \\\"payout_amount\\\": 9783,\\n          \\\"payout_date\\\": \\\"2021-09-21\\\"\\n        }\\n      ]\\n    }\\n  }\\n}\",\"requestMappingFields\":{\"mappings\":[]},\"responseHeaders\":null,\"responseMappingFields\":{\"mappings\":[{\"from\":\"code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.social_id\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.phone\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.last_name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.first_name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.email\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.card_number\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.installment_amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.created_at\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.payment_type_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.authorized_at\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[0].payout_date\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[0].installment\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[0].description\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[0].processing_fee\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[0].processing_flat_fee\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[0].payout_amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.auth_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.installment_number\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.merchant_internal_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.merchant_internal_channel\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"commerce.commerce_id\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"commerce.name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"status\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.client.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.['deposits.#object']\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"commerce.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.uuid\",\"to\":\"pspReference\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.status\",\"to\":\"transactionStatus\",\"map\":{\"pagado\":\"ACCEPTED\",\"rechazado\":\"REJECTED\"},\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.status\",\"to\":\"result\",\"map\":{\"pagado\":\"AUTHORIZED\",\"rechazado\":\"UNAUTHORIZED\"},\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false}]},\"responseContentType\":\"application\/json\",\"headers\":{\"Authorization\":\"${vars.apiKey}\",\"Signature\":\"${auth.hmac.signatureSource}.${auth.hmac.signature}\"},\"formArrayIndicator\":null}]},\"redirectFilteringParamDto\":{\"redirectParamFilterPolicy\":null,\"filteringParams\":[]}}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/authorization",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "authorization"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    ,
    {
      "name": "Notification",
      "item": [
        {
          "name": "Notification",
          "request": {
            "method": "PUT",
            "header": [
              {
                "key": "Authorization",
                "value": "{{token}}",
                "type": "text"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\"id\":2036,\"requestType\":\"NOTIFICATION\",\"enabled\":null,\"configurationId\":null,\"googlePayGateway\":null,\"inboundMapping\":{\"preprocessingMethodId\":\"{{preprocessingMethod_virtualPos Notification verification_28f6d4f0-f4b8-4275-b899-f04609e455e5}}\",\"authenticationIds\":[],\"contentType\":\"application\/json\",\"requestMapping\":{\"authorization\":{\"requestExample\":\"{\\n    \\\"status\\\": \\\"OK\\\",\\n    \\\"code\\\": 200,\\n    \\\"commerce\\\": {\\n        \\\"commerce_id\\\": \\\"76255466-6\\\",\\n        \\\"name\\\": \\\"SANDBOX - SAP\\\"\\n    },\\n    \\\"payment\\\": {\\n        \\\"client\\\": {\\n            \\\"email\\\": \\\"r.cotton@sap.com\\\",\\n            \\\"first_name\\\": \\\"Richard\\\",\\n            \\\"last_name\\\": \\\"Cotton\\\",\\n            \\\"social_id\\\": \\\"12345678-9\\\",\\n            \\\"phone\\\": \\\"5555555555\\\"\\n        },\\n        \\\"order\\\": {\\n            \\\"uuid\\\": \\\"7460142686e231b6\\\",\\n            \\\"status\\\": \\\"pagado\\\",\\n            \\\"created_at\\\": \\\"2025-07-09 04:06:51\\\",\\n            \\\"card_number\\\": \\\"6623\\\",\\n            \\\"authorized_at\\\": \\\"2025-07-09 04:10:36\\\",\\n            \\\"auth_code\\\": \\\"1213\\\",\\n            \\\"installment_amount\\\": \\\"\\\",\\n            \\\"installment_number\\\": \\\"0\\\",\\n            \\\"payment_type_code\\\": \\\"VN\\\",\\n            \\\"amount\\\": 60540,\\n            \\\"merchant_internal_code\\\": \\\"000000J000000FGZ2\\\",\\n            \\\"merchant_internal_channel\\\": \\\"\\\",\\n            \\\"deposits\\\": [\\n                {\\n                    \\\"description\\\": \\\"1\\\\\/1\\\",\\n                    \\\"installment\\\": 60540,\\n                    \\\"processing_flat_fee\\\": 0,\\n                    \\\"processing_fee\\\": 2082,\\n                    \\\"payout_amount\\\": 58458,\\n                    \\\"payout_date\\\": \\\"2025-07-14\\\"\\n                }\\n            ],\\n            \\\"bank\\\": {}\\n        }\\n    },\\n    \\\"rejected_object\\\": {\\n        \\\"code\\\": \\\"0\\\",\\n        \\\"message\\\": \\\"Operaci\\\\u00f3n exitosa\\\",\\n        \\\"doc_url\\\": \\\"https:\\\\\/\\\\\/virtualpos.readme.io\\\\\/reference\\\\\/objeto-rechazo\\\"\\n    }\\n}\",\"requestMappingFields\":{\"mappings\":[{\"from\":\"payment.order.card_number\",\"to\":\"cardLast4\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.uuid\",\"to\":\"pspReference\",\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.payment_type_code\",\"to\":\"paymentMethod\",\"map\":{\"TE\":\"CREDIT_CARD\",\"VD\":\"CREDIT_CARD\",\"VN\":\"CREDIT_CARD\",\"VC\":\"CREDIT_CARD\",\"YES\":\"CREDIT_CARD\",\"NC\":\"CREDIT_CARD\",\"S2\":\"CREDIT_CARD\"},\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.status\",\"to\":\"requestType\",\"map\":{\"pagado\":\"AUTHORIZATION\",\"rechazado\":\"AUTHORIZATION\"},\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.status\",\"to\":\"transactionStatus\",\"map\":{\"pagado\":\"ACCEPTED\",\"rechazado\":\"REJECTED\"},\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":false,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.client.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.client.social_id\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.phone\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.last_name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.first_name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.client.email\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.installment_amount\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.created_at\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.authorized_at\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.['deposits.#object']\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.deposits[*].payout_date\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.deposits\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[*].installment\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.deposits\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[*].description\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.deposits\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[*].processing_fee\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.deposits\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[*].processing_flat_fee\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.deposits\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.deposits[*].payout_amount\",\"to\":null,\"map\":null,\"arrayPath\":\"payment.order.deposits\",\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.auth_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.bank.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"payment.order.installment_number\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.merchant_internal_code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"payment.order.merchant_internal_channel\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"rejected_object.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"rejected_object.doc_url\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"rejected_object.code\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"rejected_object.message\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"commerce.#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false},{\"from\":\"commerce.commerce_id\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"commerce.name\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"status\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":false,\"isScript\":false},{\"from\":\"#object\",\"to\":null,\"map\":null,\"arrayPath\":null,\"arrayMapping\":false,\"mappingFieldType\":\"BODY\",\"fixed\":true,\"isCustom\":false,\"persistCustomField\":false,\"isSensitive\":false,\"isObject\":true,\"isScript\":false}]}}},\"responseMapping\":{\"content\":\"OK\"}}}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{rootUrl}}/{{service}}\/merchant\/accountgroups\/{{accountGroupId}}\/accounts\/{{accountId}}\/notification",
              "host": [
                "{{rootUrl}}"
              ],
              "path": [
                "{{service}}"
                ,
                "merchant"
                ,
                "accountgroups"
                ,
                "{{accountGroupId}}"
                ,
                "accounts"
                ,
                "{{accountId}}"
                ,
                "notification"
                
              ]
            }
          },
          "response": []
        }
        
      ],
      "protocolProfileBehavior": {}
    }
    
  ],
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [
          "let url = pm.request.url.toString();\nif(pm.environment.get(\"service\")==null || pm.environment.get(\"service\")===\"\"){\n    let updateUrl = url.replace(\"\/{{service}}\",\"\")\n    pm.request.url = updateUrl;\n}"
        ]
      }
    }
  ]
  ,
  "protocolProfileBehavior": {}
}