!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(globalThis,(()=>(()=>{var e={667:function(e,t,r){var n,o;!function(){"use strict";n=function(){var e=function(){},t="undefined",r=typeof window!==t&&typeof window.navigator!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"],o={},i=null;function s(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function a(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function c(){for(var r=this.getLevel(),o=0;o<n.length;o++){var i=n[o];this[i]=o<r?e:this.methodFactory(i,r,this.name)}if(this.log=this.debug,typeof console===t&&r<this.levels.SILENT)return"No console available for logging"}function l(e){return function(){typeof console!==t&&(c.call(this),this[e].apply(this,arguments))}}function u(n,o,i){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?a:void 0!==console[n]?s(console,n):void 0!==console.log?s(console,"log"):e)}(n)||l.apply(this,arguments)}function f(e,r){var s,a,l,f=this,d="loglevel";function p(){var e;if(typeof window!==t&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=encodeURIComponent(d),o=r.indexOf(n+"=");-1!==o&&(e=/^([^;]+)/.exec(r.slice(o+n.length+1))[1])}catch(e){}return void 0===f.levels[e]&&(e=void 0),e}}function h(e){var t=e;if("string"==typeof t&&void 0!==f.levels[t.toUpperCase()]&&(t=f.levels[t.toUpperCase()]),"number"==typeof t&&t>=0&&t<=f.levels.SILENT)return t;throw new TypeError("log.setLevel() called with invalid level: "+e)}"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),f.name=e,f.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},f.methodFactory=r||u,f.getLevel=function(){return null!=l?l:null!=a?a:s},f.setLevel=function(e,r){return l=h(e),!1!==r&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t&&d){try{return void(window.localStorage[d]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+r+";"}catch(e){}}}(l),c.call(f)},f.setDefaultLevel=function(e){a=h(e),p()||f.setLevel(e,!1)},f.resetLevel=function(){l=null,function(){if(typeof window!==t&&d){try{window.localStorage.removeItem(d)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(e){}}}(),c.call(f)},f.enableAll=function(e){f.setLevel(f.levels.TRACE,e)},f.disableAll=function(e){f.setLevel(f.levels.SILENT,e)},f.rebuild=function(){if(i!==f&&(s=h(i.getLevel())),c.call(f),i===f)for(var e in o)o[e].rebuild()},s=h(i?i.getLevel():"WARN");var m=p();null!=m&&(l=h(m)),c.call(f)}(i=new f).getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=o[e];return t||(t=o[e]=new f(e,i.methodFactory)),t};var d=typeof window!==t?window.log:void 0;return i.noConflict=function(){return typeof window!==t&&window.log===i&&(window.log=d),i},i.getLoggers=function(){return o},i.default=i,i},void 0===(o=n.call(t,r,t,e))||(e.exports=o)}()}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{"use strict";r.r(n),r.d(n,{CommonCallback:()=>a,CommonConfig:()=>s,OpfSdkApi:()=>Rn,SubmitCompletePayment:()=>En,SubmitPayment:()=>Cn,defaultErrorDialogOptions:()=>c});var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Vt,hasStandardBrowserEnv:()=>Zt,hasStandardBrowserWebWorkerEnv:()=>Jt,navigator:()=>Wt,origin:()=>Yt});var t=r(667),o=r.n(t);class i{_fileName;_debugMode=!1;constructor(e){this._fileName=e,this._setLogLevel()}get fileName(){return this._fileName}log(e){o().log(this._getMessage(e))}info(e){o().info(this._getMessage(e))}warn(e){o().warn(this._getMessage(e))}error(e){o().error(this._getMessage(e))}logError(e){o().error(e)}setDebugMode(e){this._debugMode=e,this._setLogLevel()}_getMessage(e){return`Date: ${Date()} \nMessage: ${e} \nFile: ${this.fileName}`}_setLogLevel(){this._debugMode?o().setLevel(0):o().setLevel(3)}}class s{static NAME="CommonConfig";_logger;_baseSiteId;_ccv2BaseUrl;_opfBaseUrl;_commerceCloudPublicKey;_defaultAuthorizationErrorRetriesCount;constructor(){this._logger=new i(s.NAME)}set baseSiteId(e){this._logger.log(s.NAME+" > baseSiteId: "+e),this._baseSiteId=e}get baseSiteId(){return this._baseSiteId}set ccv2BaseUrl(e){this._logger.log(s.NAME+" > ccv2BaseUrl: "+e),this._ccv2BaseUrl=e}get ccv2BaseUrl(){return this._ccv2BaseUrl}set opfBaseUrl(e){this._logger.log(s.NAME+" > opfBaseUrl: "+e),this._opfBaseUrl=e}get opfBaseUrl(){return this._opfBaseUrl}set commerceCloudPublicKey(e){this._logger.log(s.NAME+" > commerceCloudPublicKey: "+e),this._commerceCloudPublicKey=e}get commerceCloudPublicKey(){return this._commerceCloudPublicKey}set defaultAuthorizationErrorRetriesCount(e){this._logger.log(s.NAME+" > defaultAuthorizationErrorRetriesCount: "+e),this._defaultAuthorizationErrorRetriesCount=e}get defaultAuthorizationErrorRetriesCount(){return this._defaultAuthorizationErrorRetriesCount}}class a{static NAME="CommonCallback";_logger;_accessCodeCallback;_orderPlacementCallback;_successRedirectionCallback;_failureRedirectionCallback;_cartIdCallback;_userIdCallback;_isUiIndicatorActive;_startUiIndicator;_stopUiIndicator;constructor(){this._logger=new i(a.NAME)}set accessCodeCallback(e){this._accessCodeCallback=e}get accessCodeCallback(){return this._accessCodeCallback}set orderPlacementCallback(e){this._orderPlacementCallback=e}get orderPlacementCallback(){return this._orderPlacementCallback}set successRedirectionCallback(e){this._successRedirectionCallback=e}get successRedirectionCallback(){return this._successRedirectionCallback}set failureRedirectionCallback(e){this._failureRedirectionCallback=e}get failureRedirectionCallback(){return this._failureRedirectionCallback}set cartIdCallback(e){this._cartIdCallback=e}get cartIdCallback(){return this._cartIdCallback}set userIdCallback(e){this._userIdCallback=e}get userIdCallback(){return this._userIdCallback}set isUiIndicatorActive(e){this._isUiIndicatorActive=e}get isUiIndicatorActive(){return this._isUiIndicatorActive}set startUiIndicator(e){this._startUiIndicator=e}get startUiIndicator(){return this._startUiIndicator}set stopUiIndicator(e){this._stopUiIndicator=e}get stopUiIndicator(){return this._stopUiIndicator}}function c(){return{messageKey:"opfPayment.errors.proceedPayment",confirmKey:"common.continue"}}var l=function(e,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},l(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}l(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function f(e,t){var r,n,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!((o=(o=i.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function d(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(e,t){var r="function"==typeof Symbol&&e[Symbol.iterator];if(!r)return e;var n,o,i=r.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return s}function h(e,t,r){if(r||2===arguments.length)for(var n,o=0,i=t.length;o<i;o++)!n&&o in t||(n||(n=Array.prototype.slice.call(t,0,o)),n[o]=t[o]);return e.concat(n||Array.prototype.slice.call(t))}function m(e){return this instanceof m?(this.v=e,this):new m(e)}function b(e){return"function"==typeof e}function y(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var g=y((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function v(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}var _=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,r,n,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=d(i),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(b(c))try{c()}catch(e){o=e instanceof g?e.errors:[e]}var l=this._finalizers;if(l){this._finalizers=null;try{for(var u=d(l),f=u.next();!f.done;f=u.next()){var m=f.value;try{C(m)}catch(e){o=null!=o?o:[],e instanceof g?o=h(h([],p(o)),p(e.errors)):o.push(e)}}}catch(e){r={error:e}}finally{try{f&&!f.done&&(n=u.return)&&n.call(u)}finally{if(r)throw r.error}}}if(o)throw new g(o)}},e.prototype.add=function(t){var r;if(t&&t!==this)if(this.closed)C(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(r=this._finalizers)&&void 0!==r?r:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&v(t,e)},e.prototype.remove=function(t){var r=this._finalizers;r&&v(r,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e;var t}();function w(e){return e instanceof _||e&&"closed"in e&&b(e.remove)&&b(e.add)&&b(e.unsubscribe)}function C(e){b(e)?e():e.unsubscribe()}_.EMPTY;var E=null,I=null,S=void 0,A=!1,T=!1,O={setTimeout:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=O.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,h([e,t],p(r))):setTimeout.apply(void 0,h([e,t],p(r)))},clearTimeout:function(e){var t=O.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function R(e){O.setTimeout((function(){if(!E)throw e;E(e)}))}function P(){}var L=k("C",void 0,void 0);function k(e,t,r){return{kind:e,value:t,error:r}}var N=null,x=function(e){function t(t){var r=e.call(this)||this;return r.isStopped=!1,t?(r.destination=t,w(t)&&t.add(r)):r.destination=K,r}return u(t,e),t.create=function(e,t,r){return new j(e,t,r)},t.prototype.next=function(e){this.isStopped?M(function(e){return k("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?M(k("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?M(L,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(_),U=Function.prototype.bind;function B(e,t){return U.call(e,t)}var D=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){F(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){F(e)}else F(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){F(e)}},e}(),j=function(e){function t(t,r,n){var o,i,s=e.call(this)||this;return b(t)||!t?o={next:null!=t?t:void 0,error:null!=r?r:void 0,complete:null!=n?n:void 0}:s&&T?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&B(t.next,i),error:t.error&&B(t.error,i),complete:t.complete&&B(t.complete,i)}):o=t,s.destination=new D(o),s}return u(t,e),t}(x);function F(e){var t;A?(t=e,A&&N&&(N.errorThrown=!0,N.error=t)):R(e)}function M(e,t){var r=I;r&&O.setTimeout((function(){return r(e,t)}))}var K={closed:!0,next:P,error:function(e){throw e},complete:P},q="function"==typeof Symbol&&Symbol.observable||"@@observable";function G(e){return e}var z=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var n,o=this,i=(n=e)&&n instanceof x||function(e){return e&&b(e.next)&&b(e.error)&&b(e.complete)}(n)&&w(n)?e:new j(e,t,r);return function(e){if(A){var t=!N;if(t&&(N={errorThrown:!1,error:null}),e(),t){var r=N,n=r.errorThrown,o=r.error;if(N=null,n)throw o}}else e()}((function(){var e=o,t=e.operator,r=e.source;i.add(t?t.call(i,r):r?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=H(t))((function(t,n){var o=new j({next:function(t){try{e(t)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t});r.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[q]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(r=e).length?G:1===r.length?r[0]:function(e){return r.reduce((function(e,t){return t(e)}),e)})(this);var r},e.prototype.toPromise=function(e){var t=this;return new(e=H(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function H(e){var t;return null!==(t=null!=e?e:S)&&void 0!==t?t:Promise}var X=Array.isArray,V=Object.getPrototypeOf,W=Object.prototype,Z=Object.keys;var J=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Y(e){return b(null==e?void 0:e.then)}function $(e){return b(e[q])}function Q(e){return Symbol.asyncIterator&&b(null==e?void 0:e[Symbol.asyncIterator])}function ee(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var te="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function re(e){return b(null==e?void 0:e[te])}function ne(e){return function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(e,t||[]),i=[];return n=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),n[Symbol.asyncIterator]=function(){return this},n;function s(e,t){o[e]&&(n[e]=function(t){return new Promise((function(r,n){i.push([e,t,r,n])>1||a(e,t)}))},t&&(n[e]=t(n[e])))}function a(e,t){try{(r=o[e](t)).value instanceof m?Promise.resolve(r.value.v).then(c,l):u(i[0][2],r)}catch(e){u(i[0][3],e)}var r}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var t,r,n;return f(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,m(t.read())];case 3:return r=o.sent(),n=r.value,r.done?[4,m(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,m(n)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function oe(e){return b(null==e?void 0:e.getReader)}function ie(e){if(e instanceof z)return e;if(null!=e){if($(e))return o=e,new z((function(e){var t=o[q]();if(b(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(J(e))return n=e,new z((function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()}));if(Y(e))return r=e,new z((function(e){r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,R)}));if(Q(e))return se(e);if(re(e))return t=e,new z((function(e){var r,n;try{for(var o=d(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(e){r={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}e.complete()}));if(oe(e))return se(ne(e))}var t,r,n,o;throw ee(e)}function se(e){return new z((function(t){(function(e,t){var r,n,o,i,s,a,c,l;return s=this,a=void 0,l=function(){var s,a;return f(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),r=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e=d(e),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){!function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}(n,o,(t=e[r](t)).done,t.value)}))}}}(e),c.label=1;case 1:return[4,r.next()];case 2:if((n=c.sent()).done)return[3,4];if(s=n.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),n&&!n.done&&(i=r.return)?[4,i.call(r)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))},new((c=void 0)||(c=Promise))((function(e,t){function r(e){try{o(l.next(e))}catch(e){t(e)}}function n(e){try{o(l.throw(e))}catch(e){t(e)}}function o(t){var o;t.done?e(t.value):(o=t.value,o instanceof c?o:new c((function(e){e(o)}))).then(r,n)}o((l=l.apply(s,a||[])).next())}))})(e,t).catch((function(e){return t.error(e)}))}))}function ae(e,t,r,n,o){void 0===n&&(n=0),void 0===o&&(o=!1);var i=t.schedule((function(){r(),o?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(i),!o)return i}function ce(e){return function(t){if(function(e){return b(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function le(e,t,r,n,o){return new ue(e,t,r,n,o)}var ue=function(e){function t(t,r,n,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=r?function(e){try{r(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=n?function(){try{n()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return u(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(x);function fe(e,t){return void 0===t&&(t=0),ce((function(r,n){r.subscribe(le(n,(function(r){return ae(n,e,(function(){return n.next(r)}),t)}),(function(){return ae(n,e,(function(){return n.complete()}),t)}),(function(r){return ae(n,e,(function(){return n.error(r)}),t)})))}))}function de(e,t){return void 0===t&&(t=0),ce((function(r,n){n.add(e.schedule((function(){return r.subscribe(n)}),t))}))}function pe(e,t){if(!e)throw new Error("Iterable cannot be null");return new z((function(r){ae(r,t,(function(){var n=e[Symbol.asyncIterator]();ae(r,t,(function(){n.next().then((function(e){e.done?r.complete():r.next(e.value)}))}),0,!0)}))}))}function he(e,t){return t?function(e,t){if(null!=e){if($(e))return function(e,t){return ie(e).pipe(de(t),fe(t))}(e,t);if(J(e))return function(e,t){return new z((function(r){var n=0;return t.schedule((function(){n===e.length?r.complete():(r.next(e[n++]),r.closed||this.schedule())}))}))}(e,t);if(Y(e))return function(e,t){return ie(e).pipe(de(t),fe(t))}(e,t);if(Q(e))return pe(e,t);if(re(e))return function(e,t){return new z((function(r){var n;return ae(r,t,(function(){n=e[te](),ae(r,t,(function(){var e,t,o;try{t=(e=n.next()).value,o=e.done}catch(e){return void r.error(e)}o?r.complete():r.next(t)}),0,!0)})),function(){return b(null==n?void 0:n.return)&&n.return()}}))}(e,t);if(oe(e))return function(e,t){return pe(ne(e),t)}(e,t)}throw ee(e)}(e,t):ie(e)}function me(e,t){return ce((function(r,n){var o=0;r.subscribe(le(n,(function(r){n.next(e.call(t,r,o++))})))}))}var be=Array.isArray;function ye(e){return e&&b(e.schedule)}function ge(e){return e[e.length-1]}function ve(e){return ye(ge(e))?e.pop():void 0}function _e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=ve(e),n=function(e){return b(ge(e))?e.pop():void 0}(e),o=function(e){if(1===e.length){var t=e[0];if(X(t))return{args:t,keys:null};if((n=t)&&"object"==typeof n&&V(n)===W){var r=Z(t);return{args:r.map((function(e){return t[e]})),keys:r}}}var n;return{args:e,keys:null}}(e),i=o.args,s=o.keys;if(0===i.length)return he([],r);var a,c=new z(function(e,t,r){return void 0===r&&(r=G),function(n){we(t,(function(){for(var o=e.length,i=new Array(o),s=o,a=o,c=function(o){we(t,(function(){var c=he(e[o],t),l=!1;c.subscribe(le(n,(function(e){i[o]=e,l||(l=!0,a--),a||n.next(r(i.slice()))}),(function(){--s||n.complete()})))}),n)},l=0;l<o;l++)c(l)}),n)}}(i,r,s?function(e){return function(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}(s,e)}:G));return n?c.pipe((a=n,me((function(e){return function(e,t){return be(t)?e.apply(void 0,h([],p(t))):e(t)}(a,e)})))):c}function we(e,t,r){e?ae(r,e,t):t()}function Ce(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return he(e,ve(e))}function Ee(e,t,r){return void 0===r&&(r=1/0),b(t)?Ee((function(r,n){return me((function(e,o){return t(r,e,n,o)}))(ie(e(r,n)))}),r):("number"==typeof t&&(r=t),ce((function(t,n){return function(e,t,r,n){var o=[],i=0,s=0,a=!1,c=function(){!a||o.length||i||t.complete()},l=function(e){return i<n?u(e):o.push(e)},u=function(e){i++;var a=!1;ie(r(e,s++)).subscribe(le(t,(function(e){t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{i--;for(;o.length&&i<n;)e=void 0,e=o.shift(),u(e);c()}catch(e){t.error(e)}var e})))};return e.subscribe(le(t,l,(function(){a=!0,c()}))),function(){}}(t,n,e,r)})))}function Ie(e,t){return b(t)?Ee(e,t,1):Ee(e,1)}function Se(e,t,r){var n=b(e)||t||r?{next:e,error:t,complete:r}:e;return n?ce((function(e,t){var r;null===(r=n.subscribe)||void 0===r||r.call(n);var o=!0;e.subscribe(le(t,(function(e){var r;null===(r=n.next)||void 0===r||r.call(n,e),t.next(e)}),(function(){var e;o=!1,null===(e=n.complete)||void 0===e||e.call(n),t.complete()}),(function(e){var r;o=!1,null===(r=n.error)||void 0===r||r.call(n,e),t.error(e)}),(function(){var e,t;o&&(null===(e=n.unsubscribe)||void 0===e||e.call(n)),null===(t=n.finalize)||void 0===t||t.call(n)})))})):G}function Ae(e){return ce((function(t,r){var n,o=null,i=!1;o=t.subscribe(le(r,void 0,void 0,(function(s){n=ie(e(s,Ae(e)(t))),o?(o.unsubscribe(),o=null,n.subscribe(r)):i=!0}))),i&&(o.unsubscribe(),o=null,n.subscribe(r))}))}function Te(e,t){var r=b(e)?e:function(){return e},n=function(e){return e.error(r())};return new z(t?function(e){return t.schedule(n,0,e)}:n)}var Oe=new z((function(e){return e.complete()})),Re=function(e){function t(t,r){return e.call(this)||this}return u(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(_),Pe={setInterval:function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=Pe.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,h([e,t],p(r))):setInterval.apply(void 0,h([e,t],p(r)))},clearInterval:function(e){var t=Pe.delegate;return((null==t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},Le=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return u(t,e),t.prototype.schedule=function(e,t){var r;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,o=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(o,n,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),Pe.setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Pe.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r,n=!1;try{this.work(e)}catch(e){n=!0,r=e||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,r=this.scheduler,n=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,v(n,this),null!=t&&(this.id=this.recycleAsyncId(r,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(Re),ke={now:function(){return(ke.delegate||Date).now()},delegate:void 0},Ne=function(){function e(t,r){void 0===r&&(r=e.now),this.schedulerActionCtor=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(r,t)},e.now=ke.now,e}(),xe=new(function(e){function t(t,r){void 0===r&&(r=Ne.now);var n=e.call(this,t,r)||this;return n.actions=[],n._active=!1,n}return u(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(Ne))(Le);function Ue(e,t,r){void 0===e&&(e=0),void 0===r&&(r=xe);var n=-1;return null!=t&&(ye(t)?r=t:n=t),new z((function(t){var o,i=(o=e)instanceof Date&&!isNaN(o)?+e-r.now():e;i<0&&(i=0);var s=0;return r.schedule((function(){t.closed||(t.next(s++),0<=n?this.schedule(void 0,n):t.complete())}),i)}))}function Be(e){const t=e?.shouldRetry??(()=>!0),r=e?.maxTries??3,n=e?.delay??300;return e=>e.pipe(function(e){var t;void 0===e&&(e=1/0);var r=(t=e&&"object"==typeof e?e:{count:e}).count,n=void 0===r?1/0:r,o=t.delay,i=t.resetOnSuccess,s=void 0!==i&&i;return n<=0?G:ce((function(e,t){var r,i=0,a=function(){var c=!1;r=e.subscribe(le(t,(function(e){s&&(i=0),t.next(e)}),void 0,(function(e){if(i++<n){var s=function(){r?(r.unsubscribe(),r=null,a()):c=!0};if(null!=o){var l="number"==typeof o?Ue(o):ie(o(e,i)),u=le(t,(function(){u.unsubscribe(),s()}),(function(){t.complete()}));l.subscribe(u)}else s()}else t.error(e)}))),c&&(r.unsubscribe(),r=null,a())};a()}))}({delay:(e,o)=>{if(o>r||!t(e))throw e;return Ue(o*o*n)}}))}class De{static OPF_ENDPOINTS=class{static INITIATE="payments";static VERIFY="payments/${paymentSessionId}/verify";static SUBMIT="payments/${paymentSessionId}/submit";static SUBMIT_COMPLETE="payments/${paymentSessionId}/submit-complete";static REDIRECT_SCRIPTS="payments/${paymentSessionId}/after-redirect-scripts"};static CCV2_ENDPOINTS=class{static ACCESS_CODE="users/${userId}/carts/${cartId}/accessCode"};static HTTP_KEY=class{static OPF_CC_PUBLIC_KEY_HEADER="sap-commerce-cloud-public-key";static OPF_CC_ACCESS_CODE_HEADER="sap-commerce-cloud-access-code"};static GLOBAL=class{static PAYMENTS="payments";static CHECKOUT="checkout";static REDIRECT="redirect";static INFO="info"};static LIB_TEXTS=class{static LIB_NAME="opf-pay-sdk";static LIB_VERSION="1.0.0-SDK";static OPF_SDK_INITIALIZED="OpfSdk initialized";static OPF_CFG_NOT_INITIALIZED="ConfigService is not initialized";static CALLBACK_NOT_INITIALIZED="Callback is not initialized"}}function je(e,t){return function(){return e.apply(t,arguments)}}const{toString:Fe}=Object.prototype,{getPrototypeOf:Me}=Object,Ke=(qe=Object.create(null),e=>{const t=Fe.call(e);return qe[t]||(qe[t]=t.slice(8,-1).toLowerCase())});var qe;const Ge=e=>(e=e.toLowerCase(),t=>Ke(t)===e),ze=e=>t=>typeof t===e,{isArray:He}=Array,Xe=ze("undefined"),Ve=Ge("ArrayBuffer"),We=ze("string"),Ze=ze("function"),Je=ze("number"),Ye=e=>null!==e&&"object"==typeof e,$e=e=>{if("object"!==Ke(e))return!1;const t=Me(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},Qe=Ge("Date"),et=Ge("File"),tt=Ge("Blob"),rt=Ge("FileList"),nt=Ge("URLSearchParams"),[ot,it,st,at]=["ReadableStream","Request","Response","Headers"].map(Ge);function ct(e,t,{allOwnKeys:r=!1}={}){if(null==e)return;let n,o;if("object"!=typeof e&&(e=[e]),He(e))for(n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else{const o=r?Object.getOwnPropertyNames(e):Object.keys(e),i=o.length;let s;for(n=0;n<i;n++)s=o[n],t.call(null,e[s],s,e)}}function lt(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,o=r.length;for(;o-- >0;)if(n=r[o],t===n.toLowerCase())return n;return null}const ut="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,ft=e=>!Xe(e)&&e!==ut,dt=(pt="undefined"!=typeof Uint8Array&&Me(Uint8Array),e=>pt&&e instanceof pt);var pt;const ht=Ge("HTMLFormElement"),mt=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),bt=Ge("RegExp"),yt=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};ct(r,((r,o)=>{let i;!1!==(i=t(r,o,e))&&(n[o]=i||r)})),Object.defineProperties(e,n)},gt="abcdefghijklmnopqrstuvwxyz",vt="0123456789",_t={DIGIT:vt,ALPHA:gt,ALPHA_DIGIT:gt+gt.toUpperCase()+vt},wt=Ge("AsyncFunction"),Ct=(Et="function"==typeof setImmediate,It=Ze(ut.postMessage),Et?setImmediate:It?(St=`axios@${Math.random()}`,At=[],ut.addEventListener("message",(({source:e,data:t})=>{e===ut&&t===St&&At.length&&At.shift()()}),!1),e=>{At.push(e),ut.postMessage(St,"*")}):e=>setTimeout(e));var Et,It,St,At;const Tt="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ut):"undefined"!=typeof process&&process.nextTick||Ct,Ot={isArray:He,isArrayBuffer:Ve,isBuffer:function(e){return null!==e&&!Xe(e)&&null!==e.constructor&&!Xe(e.constructor)&&Ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Ze(e.append)&&("formdata"===(t=Ke(e))||"object"===t&&Ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ve(e.buffer),t},isString:We,isNumber:Je,isBoolean:e=>!0===e||!1===e,isObject:Ye,isPlainObject:$e,isReadableStream:ot,isRequest:it,isResponse:st,isHeaders:at,isUndefined:Xe,isDate:Qe,isFile:et,isBlob:tt,isRegExp:bt,isFunction:Ze,isStream:e=>Ye(e)&&Ze(e.pipe),isURLSearchParams:nt,isTypedArray:dt,isFileList:rt,forEach:ct,merge:function e(){const{caseless:t}=ft(this)&&this||{},r={},n=(n,o)=>{const i=t&&lt(r,o)||o;$e(r[i])&&$e(n)?r[i]=e(r[i],n):$e(n)?r[i]=e({},n):He(n)?r[i]=n.slice():r[i]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&ct(arguments[e],n);return r},extend:(e,t,r,{allOwnKeys:n}={})=>(ct(t,((t,n)=>{r&&Ze(t)?e[n]=je(t,r):e[n]=t}),{allOwnKeys:n}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let o,i,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&Me(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Ke,kindOfTest:Ge,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(He(e))return e;let t=e.length;if(!Je(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:ht,hasOwnProperty:mt,hasOwnProp:mt,reduceDescriptors:yt,freezeMethods:e=>{yt(e,((t,r)=>{if(Ze(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Ze(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return He(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:lt,global:ut,isContextDefined:ft,ALPHABET:_t,generateString:(e=16,t=_t.ALPHA_DIGIT)=>{let r="";const{length:n}=t;for(;e--;)r+=t[Math.random()*n|0];return r},isSpecCompliantForm:function(e){return!!(e&&Ze(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(Ye(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const o=He(e)?[]:{};return ct(e,((e,t)=>{const i=r(e,n+1);!Xe(i)&&(o[t]=i)})),t[n]=void 0,o}}return e};return r(e,0)},isAsyncFn:wt,isThenable:e=>e&&(Ye(e)||Ze(e))&&Ze(e.then)&&Ze(e.catch),setImmediate:Ct,asap:Tt};function Rt(e,t,r,n,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o,this.status=o.status?o.status:null)}Ot.inherits(Rt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ot.toJSONObject(this.config),code:this.code,status:this.status}}});const Pt=Rt.prototype,Lt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Lt[e]={value:e}})),Object.defineProperties(Rt,Lt),Object.defineProperty(Pt,"isAxiosError",{value:!0}),Rt.from=(e,t,r,n,o,i)=>{const s=Object.create(Pt);return Ot.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Rt.call(s,e.message,t,r,n,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const kt=Rt;function Nt(e){return Ot.isPlainObject(e)||Ot.isArray(e)}function xt(e){return Ot.endsWith(e,"[]")?e.slice(0,-2):e}function Ut(e,t,r){return e?e.concat(t).map((function(e,t){return e=xt(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const Bt=Ot.toFlatObject(Ot,{},null,(function(e){return/^is[A-Z]/.test(e)})),Dt=function(e,t,r){if(!Ot.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=Ot.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ot.isUndefined(t[e])}))).metaTokens,o=r.visitor||l,i=r.dots,s=r.indexes,a=(r.Blob||"undefined"!=typeof Blob&&Blob)&&Ot.isSpecCompliantForm(t);if(!Ot.isFunction(o))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(Ot.isDate(e))return e.toISOString();if(!a&&Ot.isBlob(e))throw new kt("Blob is not supported. Use a Buffer instead.");return Ot.isArrayBuffer(e)||Ot.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,r,o){let a=e;if(e&&!o&&"object"==typeof e)if(Ot.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(Ot.isArray(e)&&function(e){return Ot.isArray(e)&&!e.some(Nt)}(e)||(Ot.isFileList(e)||Ot.endsWith(r,"[]"))&&(a=Ot.toArray(e)))return r=xt(r),a.forEach((function(e,n){!Ot.isUndefined(e)&&null!==e&&t.append(!0===s?Ut([r],n,i):null===s?r:r+"[]",c(e))})),!1;return!!Nt(e)||(t.append(Ut(o,r,i),c(e)),!1)}const u=[],f=Object.assign(Bt,{defaultVisitor:l,convertValue:c,isVisitable:Nt});if(!Ot.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!Ot.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),Ot.forEach(r,(function(r,i){!0===(!(Ot.isUndefined(r)||null===r)&&o.call(t,r,Ot.isString(i)?i.trim():i,n,f))&&e(r,n?n.concat(i):[i])})),u.pop()}}(e),t};function jt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ft(e,t){this._pairs=[],e&&Dt(e,this,t)}const Mt=Ft.prototype;Mt.append=function(e,t){this._pairs.push([e,t])},Mt.toString=function(e){const t=e?function(t){return e.call(this,t,jt)}:jt;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Kt=Ft;function qt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Gt(e,t,r){if(!t)return e;const n=r&&r.encode||qt,o=r&&r.serialize;let i;if(i=o?o(t,r):Ot.isURLSearchParams(t)?t.toString():new Kt(t,r).toString(n),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const zt=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ot.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ht={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Xt={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Kt,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Vt="undefined"!=typeof window&&"undefined"!=typeof document,Wt="object"==typeof navigator&&navigator||void 0,Zt=Vt&&(!Wt||["ReactNative","NativeScript","NS"].indexOf(Wt.product)<0),Jt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Yt=Vt&&window.location.href||"http://localhost",$t={...e,...Xt},Qt=function(e){function t(e,r,n,o){let i=e[o++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),a=o>=e.length;return i=!i&&Ot.isArray(n)?n.length:i,a?(Ot.hasOwnProp(n,i)?n[i]=[n[i],r]:n[i]=r,!s):(n[i]&&Ot.isObject(n[i])||(n[i]=[]),t(e,r,n[i],o)&&Ot.isArray(n[i])&&(n[i]=function(e){const t={},r=Object.keys(e);let n;const o=r.length;let i;for(n=0;n<o;n++)i=r[n],t[i]=e[i];return t}(n[i])),!s)}if(Ot.isFormData(e)&&Ot.isFunction(e.entries)){const r={};return Ot.forEachEntry(e,((e,n)=>{t(function(e){return Ot.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null},er={transitional:Ht,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,o=Ot.isObject(e);if(o&&Ot.isHTMLForm(e)&&(e=new FormData(e)),Ot.isFormData(e))return n?JSON.stringify(Qt(e)):e;if(Ot.isArrayBuffer(e)||Ot.isBuffer(e)||Ot.isStream(e)||Ot.isFile(e)||Ot.isBlob(e)||Ot.isReadableStream(e))return e;if(Ot.isArrayBufferView(e))return e.buffer;if(Ot.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Dt(e,new $t.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return $t.isNode&&Ot.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=Ot.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Dt(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||n?(t.setContentType("application/json",!1),function(e){if(Ot.isString(e))try{return(0,JSON.parse)(e),Ot.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||er.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(Ot.isResponse(e)||Ot.isReadableStream(e))return e;if(e&&Ot.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(r){if("SyntaxError"===e.name)throw kt.from(e,kt.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$t.classes.FormData,Blob:$t.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ot.forEach(["delete","get","head","post","put","patch"],(e=>{er.headers[e]={}}));const tr=er,rr=Ot.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nr=Symbol("internals");function or(e){return e&&String(e).trim().toLowerCase()}function ir(e){return!1===e||null==e?e:Ot.isArray(e)?e.map(ir):String(e)}function sr(e,t,r,n,o){return Ot.isFunction(n)?n.call(this,t,r):(o&&(t=r),Ot.isString(t)?Ot.isString(n)?-1!==t.indexOf(n):Ot.isRegExp(n)?n.test(t):void 0:void 0)}class ar{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function o(e,t,r){const o=or(t);if(!o)throw new Error("header name must be a non-empty string");const i=Ot.findKey(n,o);(!i||void 0===n[i]||!0===r||void 0===r&&!1!==n[i])&&(n[i||t]=ir(e))}const i=(e,t)=>Ot.forEach(e,((e,r)=>o(e,r,t)));if(Ot.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(Ot.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))i((e=>{const t={};let r,n,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),r=e.substring(0,o).trim().toLowerCase(),n=e.substring(o+1).trim(),!r||t[r]&&rr[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(Ot.isHeaders(e))for(const[t,n]of e.entries())o(n,t,r);else null!=e&&o(t,e,r);return this}get(e,t){if(e=or(e)){const r=Ot.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(Ot.isFunction(t))return t.call(this,e,r);if(Ot.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=or(e)){const r=Ot.findKey(this,e);return!(!r||void 0===this[r]||t&&!sr(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function o(e){if(e=or(e)){const o=Ot.findKey(r,e);!o||t&&!sr(0,r[o],o,t)||(delete r[o],n=!0)}}return Ot.isArray(e)?e.forEach(o):o(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const o=t[r];e&&!sr(0,this[o],o,e,!0)||(delete this[o],n=!0)}return n}normalize(e){const t=this,r={};return Ot.forEach(this,((n,o)=>{const i=Ot.findKey(r,o);if(i)return t[i]=ir(n),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(o):String(o).trim();s!==o&&delete t[o],t[s]=ir(n),r[s]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ot.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&Ot.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach((e=>r.set(e))),r}static accessor(e){const t=(this[nr]=this[nr]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=or(e);t[n]||(function(e,t){const r=Ot.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,o){return this[n].call(this,t,e,r,o)},configurable:!0})}))}(r,e),t[n]=!0)}return Ot.isArray(e)?e.forEach(n):n(e),this}}ar.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ot.reduceDescriptors(ar.prototype,(({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[r]=e}}})),Ot.freezeMethods(ar);const cr=ar;function lr(e,t){const r=this||tr,n=t||r,o=cr.from(n.headers);let i=n.data;return Ot.forEach(e,(function(e){i=e.call(r,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function ur(e){return!(!e||!e.__CANCEL__)}function fr(e,t,r){kt.call(this,null==e?"canceled":e,kt.ERR_CANCELED,t,r),this.name="CanceledError"}Ot.inherits(fr,kt,{__CANCEL__:!0});const dr=fr;function pr(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new kt("Request failed with status code "+r.status,[kt.ERR_BAD_REQUEST,kt.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const hr=(e,t,r=3)=>{let n=0;const o=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let o,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=n[s];o||(o=c),r[i]=a,n[i]=c;let u=s,f=0;for(;u!==i;)f+=r[u++],u%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),c-o<t)return;const d=l&&c-l;return d?Math.round(1e3*f/d):void 0}}(50,250);return function(e,t){let r,n,o=0,i=1e3/t;const s=(t,i=Date.now())=>{o=i,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-o;a>=i?s(e,t):(r=e,n||(n=setTimeout((()=>{n=null,s(r)}),i-a)))},()=>r&&s(r)]}((r=>{const i=r.loaded,s=r.lengthComputable?r.total:void 0,a=i-n,c=o(a);n=i,e({loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&i<=s?(s-i)/c:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),r)},mr=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},br=e=>(...t)=>Ot.asap((()=>e(...t))),yr=$t.hasStandardBrowserEnv?function(){const e=$t.navigator&&/(msie|trident)/i.test($t.navigator.userAgent),t=document.createElement("a");let r;function n(r){let n=r;return e&&(t.setAttribute("href",n),n=t.href),t.setAttribute("href",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return r=n(window.location.href),function(e){const t=Ot.isString(e)?n(e):e;return t.protocol===r.protocol&&t.host===r.host}}():function(){return!0},gr=$t.hasStandardBrowserEnv?{write(e,t,r,n,o,i){const s=[e+"="+encodeURIComponent(t)];Ot.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),Ot.isString(n)&&s.push("path="+n),Ot.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function vr(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const _r=e=>e instanceof cr?{...e}:e;function wr(e,t){t=t||{};const r={};function n(e,t,r){return Ot.isPlainObject(e)&&Ot.isPlainObject(t)?Ot.merge.call({caseless:r},e,t):Ot.isPlainObject(t)?Ot.merge({},t):Ot.isArray(t)?t.slice():t}function o(e,t,r){return Ot.isUndefined(t)?Ot.isUndefined(e)?void 0:n(void 0,e,r):n(e,t,r)}function i(e,t){if(!Ot.isUndefined(t))return n(void 0,t)}function s(e,t){return Ot.isUndefined(t)?Ot.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,o,i){return i in t?n(r,o):i in e?n(void 0,r):void 0}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>o(_r(e),_r(t),!0)};return Ot.forEach(Object.keys(Object.assign({},e,t)),(function(n){const i=c[n]||o,s=i(e[n],t[n],n);Ot.isUndefined(s)&&i!==a||(r[n]=s)})),r}const Cr=e=>{const t=wr({},e);let r,{data:n,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:c}=t;if(t.headers=a=cr.from(a),t.url=Gt(vr(t.baseURL,t.url),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ot.isFormData(n))if($t.hasStandardBrowserEnv||$t.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if($t.hasStandardBrowserEnv&&(o&&Ot.isFunction(o)&&(o=o(t)),o||!1!==o&&yr(t.url))){const e=i&&s&&gr.read(s);e&&a.set(i,e)}return t},Er="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Cr(e);let o=n.data;const i=cr.from(n.headers).normalize();let s,a,c,l,u,{responseType:f,onUploadProgress:d,onDownloadProgress:p}=n;function h(){l&&l(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function b(){if(!m)return;const n=cr.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());pr((function(e){t(e),h()}),(function(e){r(e),h()}),{data:f&&"text"!==f&&"json"!==f?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=b:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(b)},m.onabort=function(){m&&(r(new kt("Request aborted",kt.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new kt("Network Error",kt.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const o=n.transitional||Ht;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new kt(t,o.clarifyTimeoutError?kt.ETIMEDOUT:kt.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&Ot.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),Ot.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),f&&"json"!==f&&(m.responseType=n.responseType),p&&([c,u]=hr(p,!0),m.addEventListener("progress",c)),d&&m.upload&&([a,l]=hr(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",l)),(n.cancelToken||n.signal)&&(s=t=>{m&&(r(!t||t.type?new dr(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);y&&-1===$t.protocols.indexOf(y)?r(new kt("Unsupported protocol "+y+":",kt.ERR_BAD_REQUEST,e)):m.send(o||null)}))},Ir=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const o=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof kt?t:new dr(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new kt(`timeout ${t} of ms exceeded`,kt.ETIMEDOUT))}),t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=n;return a.unsubscribe=()=>Ot.asap(s),a}},Sr=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,o=0;for(;o<r;)n=o+t,yield e.slice(o,n),o=n},Ar=(e,t,r,n)=>{const o=async function*(e,t){for await(const r of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}}(e))yield*Sr(r,t)}(e,t);let i,s=0,a=e=>{i||(i=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await o.next();if(t)return a(),void e.close();let i=n.byteLength;if(r){let e=s+=i;r(e)}e.enqueue(new Uint8Array(n))}catch(e){throw a(e),e}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},Tr="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,Or=Tr&&"function"==typeof ReadableStream,Rr=Tr&&("function"==typeof TextEncoder?(Pr=new TextEncoder,e=>Pr.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Pr;const Lr=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},kr=Or&&Lr((()=>{let e=!1;const t=new Request($t.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Nr=Or&&Lr((()=>Ot.isReadableStream(new Response("").body))),xr={stream:Nr&&(e=>e.body)};var Ur;Tr&&(Ur=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!xr[e]&&(xr[e]=Ot.isFunction(Ur[e])?t=>t[e]():(t,r)=>{throw new kt(`Response type '${e}' is not supported`,kt.ERR_NOT_SUPPORT,r)})})));const Br=Tr&&(async e=>{let{url:t,method:r,data:n,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:f="same-origin",fetchOptions:d}=Cr(e);l=l?(l+"").toLowerCase():"text";let p,h=Ir([o,i&&i.toAbortSignal()],s);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let b;try{if(c&&kr&&"get"!==r&&"head"!==r&&0!==(b=await(async(e,t)=>{const r=Ot.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Ot.isBlob(e))return e.size;if(Ot.isSpecCompliantForm(e)){const t=new Request($t.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ot.isArrayBufferView(e)||Ot.isArrayBuffer(e)?e.byteLength:(Ot.isURLSearchParams(e)&&(e+=""),Ot.isString(e)?(await Rr(e)).byteLength:void 0)})(t):r})(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(Ot.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=mr(b,hr(br(c)));n=Ar(r.body,65536,e,t)}}Ot.isString(f)||(f=f?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...d,signal:h,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:o?f:void 0});let i=await fetch(p);const s=Nr&&("stream"===l||"response"===l);if(Nr&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=Ot.toFiniteNumber(i.headers.get("content-length")),[r,n]=a&&mr(t,hr(br(a),!0))||[];i=new Response(Ar(i.body,65536,r,(()=>{n&&n(),m&&m()})),e)}l=l||"text";let y=await xr[Ot.findKey(xr,l)||"text"](i,e);return!s&&m&&m(),await new Promise(((t,r)=>{pr(t,r,{data:y,headers:cr.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new kt("Network Error",kt.ERR_NETWORK,e,p),{cause:t.cause||t});throw kt.from(t,t&&t.code,e,p)}}),Dr={http:null,xhr:Er,fetch:Br};Ot.forEach(Dr,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const jr=e=>`- ${e}`,Fr=e=>Ot.isFunction(e)||null===e||!1===e,Mr=e=>{e=Ot.isArray(e)?e:[e];const{length:t}=e;let r,n;const o={};for(let i=0;i<t;i++){let t;if(r=e[i],n=r,!Fr(r)&&(n=Dr[(t=String(r)).toLowerCase()],void 0===n))throw new kt(`Unknown adapter '${t}'`);if(n)break;o[t||"#"+i]=n}if(!n){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let r=t?e.length>1?"since :\n"+e.map(jr).join("\n"):" "+jr(e[0]):"as no adapter specified";throw new kt("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Kr(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dr(null,e)}function qr(e){return Kr(e),e.headers=cr.from(e.headers),e.data=lr.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Mr(e.adapter||tr.adapter)(e).then((function(t){return Kr(e),t.data=lr.call(e,e.transformResponse,t),t.headers=cr.from(t.headers),t}),(function(t){return ur(t)||(Kr(e),t&&t.response&&(t.response.data=lr.call(e,e.transformResponse,t.response),t.response.headers=cr.from(t.response.headers))),Promise.reject(t)}))}const Gr={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Gr[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const zr={};Gr.transitional=function(e,t,r){function n(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,o,i)=>{if(!1===e)throw new kt(n(o," has been removed"+(t?" in "+t:"")),kt.ERR_DEPRECATED);return t&&!zr[o]&&(zr[o]=!0,console.warn(n(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,o,i)}};const Hr={assertOptions:function(e,t,r){if("object"!=typeof e)throw new kt("options must be an object",kt.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let o=n.length;for(;o-- >0;){const i=n[o],s=t[i];if(s){const t=e[i],r=void 0===t||s(t,i,e);if(!0!==r)throw new kt("option "+i+" must be "+r,kt.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new kt("Unknown option "+i,kt.ERR_BAD_OPTION)}},validators:Gr},Xr=Hr.validators;class Vr{constructor(e){this.defaults=e,this.interceptors={request:new zt,response:new zt}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const r=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?r&&!String(e.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+r):e.stack=r}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=wr(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:o}=t;void 0!==r&&Hr.assertOptions(r,{silentJSONParsing:Xr.transitional(Xr.boolean),forcedJSONParsing:Xr.transitional(Xr.boolean),clarifyTimeoutError:Xr.transitional(Xr.boolean)},!1),null!=n&&(Ot.isFunction(n)?t.paramsSerializer={serialize:n}:Hr.assertOptions(n,{encode:Xr.function,serialize:Xr.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&Ot.merge(o.common,o[t.method]);o&&Ot.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=cr.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,f=0;if(!a){const e=[qr.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);f<u;)l=l.then(e[f++],e[f++]);return l}u=s.length;let d=t;for(f=0;f<u;){const e=s[f++],t=s[f++];try{d=e(d)}catch(e){t.call(this,e);break}}try{l=qr.call(this,d)}catch(e){return Promise.reject(e)}for(f=0,u=c.length;f<u;)l=l.then(c[f++],c[f++]);return l}getUri(e){return Gt(vr((e=wr(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}Ot.forEach(["delete","get","head","options"],(function(e){Vr.prototype[e]=function(t,r){return this.request(wr(r||{},{method:e,url:t,data:(r||{}).data}))}})),Ot.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,o){return this.request(wr(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}Vr.prototype[e]=t(),Vr.prototype[e+"Form"]=t(!0)}));const Wr=Vr;class Zr{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,o){r.reason||(r.reason=new dr(e,n,o),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Zr((function(t){e=t})),cancel:e}}}const Jr=Zr,Yr={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Yr).forEach((([e,t])=>{Yr[t]=e}));const $r=Yr,Qr=function e(t){const r=new Wr(t),n=je(Wr.prototype.request,r);return Ot.extend(n,Wr.prototype,r,{allOwnKeys:!0}),Ot.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(wr(t,r))},n}(tr);Qr.Axios=Wr,Qr.CanceledError=dr,Qr.CancelToken=Jr,Qr.isCancel=ur,Qr.VERSION="1.7.7",Qr.toFormData=Dt,Qr.AxiosError=kt,Qr.Cancel=Qr.CanceledError,Qr.all=function(e){return Promise.all(e)},Qr.spread=function(e){return function(t){return e.apply(null,t)}},Qr.isAxiosError=function(e){return Ot.isObject(e)&&!0===e.isAxiosError},Qr.mergeConfig=wr,Qr.AxiosHeaders=cr,Qr.formToJSON=e=>Qt(Ot.isHTMLForm(e)?new FormData(e):e),Qr.getAdapter=Mr,Qr.HttpStatusCode=$r,Qr.default=Qr;const en=Qr,{Axios:tn,AxiosError:rn,CanceledError:nn,isCancel:on,CancelToken:sn,VERSION:an,all:cn,Cancel:ln,isAxiosError:un,spread:fn,toFormData:dn,AxiosHeaders:pn,HttpStatusCode:hn,formToJSON:mn,getAdapter:bn,mergeConfig:yn}=en;function gn(e){return!!e?.status&&401===e.status}function vn(e,t,r){const n={statusText:"Payment Error",message:"opfPayment.errors.proceedPayment",status:-1,type:""};return e?.status===hn.BadRequest?n.message=function(e){switch(e){case"EXPIRED":return"opfPayment.errors.cardExpired";case"INSUFFICENT_FUNDS":case"CREDIT_LIMIT":return"opfPayment.errors.insufficientFunds";case"INVALID_CARD":case"INVALID_CVV":return"opfPayment.errors.invalidCreditCard";case"LOST_CARD":return"opfPayment.errors.cardReportedLost";default:return"unknown error"}}(e?.type):"PAYMENT_CANCELLED"===e?.type&&(n.message="opfPayment.errors.cancelPayment"),t?.length&&r&&(console.log(t),r()),n}var _n;!function(e){e.OPF="opf",e.COMMERCE_CLOUD="ccv2"}(_n||(_n={}));class wn{static NAME="SdkHttpUtil";_logger;axiosInstance;configService;constructor(e,t,r){this._logger=new i(wn.NAME),this.configService=t,this.axiosInstance=en.create({baseURL:e==_n.OPF?this.configService.opfBaseUrl:this.configService.ccv2BaseUrl,headers:r}),this.axiosInstance.interceptors.request.use((e=>e),(e=>(this._logger.error("Request error:"+e),Promise.reject(e)))),this.axiosInstance.interceptors.response.use((e=>e),(e=>{if(e.response)switch(e.response.status){case hn.BadRequest:this._logger.error("Bad Request - perhaps payload is invalid?");break;case hn.Unauthorized:this._logger.error("Unauthorized access - perhaps you need to log in?");break;case hn.Forbidden:this._logger.error("Forbidden - you do not have permission to access this resource.");break;case hn.NotFound:this._logger.error("Resource not found.");break;case hn.InternalServerError:this._logger.error("Internal server error.");break;default:this._logger.error("An error occurred:"+e.message)}return Promise.reject(e.response?.data)}))}get(e,t){const r=this.buildUrl(e,t);return he(this.axiosInstance.get(r).then((e=>e.data)))}post(e,t,r){const n=this.buildUrl(e,t);return he(this.axiosInstance.post(n,r).then((e=>e.data)))}put(e,t,r){const n=this.buildUrl(e,r);return he(this.axiosInstance.put(n,t).then((e=>e.data)))}delete(e,t){const r=this.buildUrl(e,t);return he(this.axiosInstance.delete(r).then((e=>e.data)))}buildUrl(e,t){if(t){const{urlParams:r}=t;r&&e&&(e=this.resolve(e,r,!0))}return`/${this.configService.baseSiteId}/${e}`}resolve(e,t,r){for(const n of Object.keys(t)){const o=new RegExp("\\${"+n+"}","g");e=e.replace(o,r?encodeURIComponent(t[n]):t[n])}return e}}class Cn{static NAME="SubmitPayment";_window;_logger;_commonConfig;_accessCodeCallback;_orderPlacementCallback;_successRedirectionCallback;_failureRedirectionCallback;constructor(e){this._window=window,this._logger=new i(Cn.NAME),this._commonConfig=e.getCommonConfig(),this._accessCodeCallback=e.getAccessCodeCallback(),this._orderPlacementCallback=e.getOrderPlacementCallback(),this._successRedirectionCallback=e.getSuccessRedirectionCallback(),this._failureRedirectionCallback=e.getFailureRedirectionCallback()}submitPayment(e){const{paymentMethod:t,cartId:r,additionalData:n,paymentSessionId:o,encryptedToken:i,returnPath:s}=e,a={paymentMethod:t,cartId:r,additionalData:n,channel:"BROWSER",browserInfo:(c=this._window,{acceptHeader:"application/json",colorDepth:c?.screen?.colorDepth,javaEnabled:!1,javaScriptEnabled:!0,language:c?.navigator?.language,screenHeight:c?.screen?.height,screenWidth:c?.screen?.width,userAgent:c?.navigator?.userAgent,originUrl:c?.location?.origin,timeZoneOffset:(new Date).getTimezoneOffset()})};var c;return"CREDIT_CARD"!==t&&(a.encryptedToken=""),i&&(a.encryptedToken=i),this._logger.info("Submit Payment Request > "+a),_e([Ce(a),Ce(this._accessCodeCallback(a))]).pipe(Ie((([e,{accessCode:t}])=>this.callSubmitPayment(e,t,o))),Ie((t=>this.paymentResponseHandler(t,e.callbackArray))),Se((e=>{e&&this._successRedirectionCallback()})),me((e=>!!e)),Ae((e=>Te((()=>vn(e,s,this._failureRedirectionCallback))))),Be({shouldRetry:gn,maxTries:this._commonConfig.defaultAuthorizationErrorRetriesCount}))}paymentResponseHandler(e,[t,r,n]){return"ACCEPTED"===e.status||"DELAYED"===e.status?he(Promise.resolve(t(e))).pipe(Ie((()=>Ce(this._orderPlacementCallback(!0))))):"PENDING"===e.status?he(Promise.resolve(r(e))).pipe(Ie((()=>Oe))):"REJECTED"===e.status?he(Promise.resolve(n(e))).pipe(Ie((()=>Te((()=>({statusText:"Payment Error",message:"opfPayment.errors.proceedPayment",status:-1,type:"",type:"PAYMENT_REJECTED"})))))):he(Promise.resolve(n(e))).pipe(Ie((()=>Te((()=>({statusText:"Payment Error",message:"opfPayment.errors.proceedPayment",status:-1,type:"",type:"STATUS_NOT_RECOGNIZED"}))))))}callSubmitPayment(e,t,r){const n={...this._header,[De.HTTP_KEY.OPF_CC_PUBLIC_KEY_HEADER]:this._commonConfig.commerceCloudPublicKey,[De.HTTP_KEY.OPF_CC_ACCESS_CODE_HEADER]:t||""};return new wn(_n.OPF,this._commonConfig,n).post(De.OPF_ENDPOINTS.SUBMIT,{urlParams:{paymentSessionId:r}},e)}_headerWithNoLanguage={accept:"application/json","Content-Type":"application/json"};_header={...this._headerWithNoLanguage,"Accept-Language":"en-us"}}class En{static NAME="SubmitCompletePayment";_logger;_commonConfig;_accessCodeCallback;_orderPlacementCallback;_successRedirectionCallback;_failureRedirectionCallback;constructor(e){this._logger=new i(En.NAME),this._commonConfig=e.getCommonConfig(),this._accessCodeCallback=e.getAccessCodeCallback(),this._orderPlacementCallback=e.getOrderPlacementCallback(),this._successRedirectionCallback=e.getSuccessRedirectionCallback(),this._failureRedirectionCallback=e.getFailureRedirectionCallback()}submitCompletePayment(e){const{cartId:t,additionalData:r,paymentSessionId:n,returnPath:o}=e,i={cartId:t,additionalData:r,paymentSessionId:n};return this._logger.info("Submit-Complete Payment Request > "+i),_e([Ce(i),Ce(this._accessCodeCallback(i))]).pipe(Ie((([e,{accessCode:t}])=>this.callSubmitCompletePayment(e,t,n))),Ie((t=>this.paymentResponseHandler(t,e.callbackArray))),Se((e=>{e&&this._successRedirectionCallback()})),me((e=>!!e)),Ae((e=>Te((()=>vn(e,o,this._failureRedirectionCallback))))),Be({shouldRetry:gn,maxTries:this._commonConfig.defaultAuthorizationErrorRetriesCount}))}paymentResponseHandler(e,[t,r,n]){return"ACCEPTED"===e.status||"DELAYED"===e.status?he(Promise.resolve(t(e))).pipe(Ie((()=>Ce(this._orderPlacementCallback(!0))))):"PENDING"===e.status?he(Promise.resolve(r(e))).pipe(Ie((()=>Oe))):"REJECTED"===e.status?he(Promise.resolve(n(e))).pipe(Ie((()=>Te((()=>({statusText:"Payment Error",message:"opfPayment.errors.proceedPayment",status:-1,type:"",type:"PAYMENT_REJECTED"})))))):he(Promise.resolve(n(e))).pipe(Ie((()=>Te((()=>({statusText:"Payment Error",message:"opfPayment.errors.proceedPayment",status:-1,type:"",type:"STATUS_NOT_RECOGNIZED"}))))))}callSubmitCompletePayment(e,t,r){const n={...this._headerWithContentLanguage,[De.HTTP_KEY.OPF_CC_PUBLIC_KEY_HEADER]:this._commonConfig.commerceCloudPublicKey,[De.HTTP_KEY.OPF_CC_ACCESS_CODE_HEADER]:t||""};return new wn(_n.OPF,this._commonConfig,n).post(De.OPF_ENDPOINTS.SUBMIT_COMPLETE,{urlParams:{paymentSessionId:r}},e)}_headerWithNoLanguage={accept:"application/json","Content-Type":"application/json"};_header={...this._headerWithNoLanguage,"Accept-Language":"en-us"};_headerWithContentLanguage={...this._headerWithNoLanguage,"Content-Language":"en-us"}}class In{static getBuildInfo(){return{name:De.LIB_TEXTS.LIB_NAME,version:De.LIB_TEXTS.LIB_VERSION}}static getBuildInfoString(){return`${this.getBuildInfo().name}/${this.getBuildInfo().version}`}static getGlobalBuildInfo(){const e=In.getGlobalContextValue(De.GLOBAL.PAYMENTS,De.GLOBAL.INFO);return e&&e.sdk?e.sdk:this.getBuildInfoString()}static setGlobalData(){In.ensureGlobalContext(De.GLOBAL.PAYMENTS,De.GLOBAL.INFO).sdk=this.getBuildInfoString(),In.ensureGlobalContext(De.GLOBAL.PAYMENTS,De.GLOBAL.CHECKOUT),In.ensureGlobalContext(De.GLOBAL.PAYMENTS,De.GLOBAL.REDIRECT)}static getGlobalPaymentCheckout(){return In.getGlobalContextValue(De.GLOBAL.PAYMENTS,De.GLOBAL.CHECKOUT)}static getGlobalPaymentRedirect(){return In.getGlobalContextValue(De.GLOBAL.PAYMENTS,De.GLOBAL.REDIRECT)}static removeGlobalData(){window?.Opf?.payments&&(window.Opf.payments=void 0)}static getGlobalContextValue(e,t){if(window.Opf){if(e&&!t)return window.Opf[e]||void 0;if(e&&t&&window.Opf[e])return window.Opf[e][t]||void 0}}static ensureGlobalContext(e,t){if(window.Opf||(window.Opf={}),e){window.Opf[e]||(window.Opf[e]={});const r=window.Opf[e];return t?(r[t]||(r[t]={}),r[t]):r}return window.Opf}}var Sn=y((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function An(e,t){var r="object"==typeof t;return new Promise((function(n,o){var i,s=!1;e.subscribe({next:function(e){i=e,s=!0},error:o,complete:function(){s?n(i):r?n(t.defaultValue):o(new Sn)}})}))}function Tn(e){return ce((function(t,r){try{t.subscribe(r)}finally{r.add(e)}}))}class On{_opfSdkApi;constructor(e){this._opfSdkApi=e}registerGlobalFunctions(e){this.registerSubmit(e),this.registerSubmitComplete(e),this.registerSubmitCompleteRedirect(e),this.registerStartLoadIndicator(),this.registerStopLoadIndicator()}registerGlobalFunctionsRedirectParams(e){this.registerGetRedirectParams(e)}registerSubmit(e){In.getGlobalPaymentCheckout().submit=({cartId:t,additionalData:r,submitSuccess:n=()=>{},submitPending:o=()=>{},submitFailure:i=()=>{},paymentMethod:s})=>{this._opfSdkApi.startUiIndicator();const a=[n,o,i];return An(new Cn(this._opfSdkApi).submitPayment({additionalData:r,paymentSessionId:e,cartId:t,callbackArray:a,paymentMethod:s,returnPath:void 0}).pipe(Tn((()=>{this._opfSdkApi.isUiIndicatorActive()&&this._opfSdkApi.stopUiIndicator()}))))}}registerSubmitComplete(e){In.getGlobalPaymentCheckout().submitComplete=({cartId:t,additionalData:r,submitSuccess:n=()=>{},submitPending:o=()=>{},submitFailure:i=()=>{}})=>{this._opfSdkApi.startUiIndicator();const s=[n,o,i];return An(new En(this._opfSdkApi).submitCompletePayment({additionalData:r,paymentSessionId:e,cartId:t,callbackArray:s,returnPath:void 0}).pipe(Tn((()=>{this._opfSdkApi.isUiIndicatorActive()&&this._opfSdkApi.stopUiIndicator()}))))}}registerSubmitCompleteRedirect(e){In.getGlobalPaymentRedirect().submitCompleteRedirect=({cartId:t,additionalData:r,submitSuccess:n=()=>{},submitPending:o=()=>{},submitFailure:i=()=>{},returnPath:s})=>{this._opfSdkApi.startUiIndicator();const a=[n,o,i];return An(new En(this._opfSdkApi).submitCompletePayment({additionalData:r,paymentSessionId:e,cartId:t,callbackArray:a,returnPath:s}).pipe(Tn((()=>{this._opfSdkApi.isUiIndicatorActive()&&this._opfSdkApi.stopUiIndicator()}))))}}registerStartLoadIndicator(){In.getGlobalPaymentCheckout().startLoadIndicator=()=>{this._opfSdkApi.startUiIndicator()}}registerStopLoadIndicator(){In.getGlobalPaymentCheckout().stopLoadIndicator=()=>{this._opfSdkApi.stopUiIndicator()}}registerGetRedirectParams(e=[]){In.getGlobalPaymentRedirect().getRedirectParams=()=>e.map((e=>({key:e.key,value:e.value})))}}class Rn{static NAME="OpfSdkApi";_logger;_opfConfigService;_accessCodeCallback;_orderPlacementCallback;_successRedirectionCallback;_failureRedirectionCallback;_cartIdCallback;_userIdCallback;_isUiIndicatorActive;_startUiIndicator;_stopUiIndicator;constructor(){this._logger=new i(Rn.NAME),In.setGlobalData(),this._logger.info(De.LIB_TEXTS.OPF_SDK_INITIALIZED)}async initialize(e,t){return this._opfConfigService=e,this._accessCodeCallback=t.accessCodeCallback,this._orderPlacementCallback=t.orderPlacementCallback,this._successRedirectionCallback=t.successRedirectionCallback,this._failureRedirectionCallback=t.failureRedirectionCallback,this._cartIdCallback=t.cartIdCallback,this._userIdCallback=t.userIdCallback,this._isUiIndicatorActive=t.isUiIndicatorActive,this._startUiIndicator=t.startUiIndicator,this._stopUiIndicator=t.stopUiIndicator,!0}async registerGlobalFunctions(e){new On(this).registerGlobalFunctions(e)}getCommonConfig(){if(!this._opfConfigService)throw this._logger.error(De.LIB_TEXTS.OPF_CFG_NOT_INITIALIZED),new Error(De.LIB_TEXTS.OPF_CFG_NOT_INITIALIZED);return this._opfConfigService}getAccessCodeCallback(){if(!this._accessCodeCallback)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._accessCodeCallback}getOrderPlacementCallback(){if(!this._orderPlacementCallback)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._orderPlacementCallback}getSuccessRedirectionCallback(){if(!this._successRedirectionCallback)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._successRedirectionCallback}getFailureRedirectionCallback(){if(!this._failureRedirectionCallback)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._failureRedirectionCallback}getCartIdCallback(){if(!this._cartIdCallback)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._cartIdCallback}getUserIdCallback(){if(!this._userIdCallback)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._userIdCallback}isUiIndicatorActive(){if(!this._isUiIndicatorActive)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);return this._isUiIndicatorActive()}startUiIndicator(){if(!this._startUiIndicator)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);this._startUiIndicator()}stopUiIndicator(){if(!this._stopUiIndicator)throw this._logger.error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED),new Error(De.LIB_TEXTS.CALLBACK_NOT_INITIALIZED);this._stopUiIndicator()}}})(),n})()));
//# sourceMappingURL=opf-sdk.js.map